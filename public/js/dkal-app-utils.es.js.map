{"version":3,"file":"dkal-app-utils.es.js","sources":["../../../../node_modules/.pnpm/style-inject@0.3.0/node_modules/style-inject/dist/style-inject.es.js","../../src/index.ts"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { name, version } from '../package.json';\nimport dayjs from 'dayjs';\nimport '@/style.css';\nimport {EditorView, basicSetup} from \"codemirror\";\nimport {javascript} from \"@codemirror/lang-javascript\"\n\n// 测试foo模块\nconst testFoo = ()=>{\n    import(\"./foo\").then(({default: foo})=>console.log(foo));\n}\n\n// 测试monaco插件\n// const testMonaco = (codeStr?: string) =>{\n//     // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n//     const $root = document.getElementById('container')!;\n//     let editor;\n//     if(codeStr!=null){\n//         editor = (window as any).monaco.editor.create($root, {\n//             value: ['function xx() {', '\\tconsole.log(\"Hello world!\");', '}'].join('\\n'),\n//             language: 'javascript',\n//         });\n//     }else{\n//         editor = (window as any).monaco.editor.create($root, {\n//             value: '// 请输入javascript代码',\n//             language: 'javascript',\n//         });\n//     }\n//\n//     console.log(editor.getValue());\n//     (window as any).eval(editor.getValue());\n// }\n\n// 存储编辑器的变量\nlet coderEditor:EditorView;\nconst testCodemirror = (code: string)=>{\n    const $body = document.body;\n    const $container = document.createElement(\"div\");\n    const $coder = document.createElement(\"div\");\n    const $btn = document.createElement(\"button\");\n    $container.id = \"coder-container\";\n    $coder.id = \"coder-editor\";\n    $btn.id = \"coder-btn\";\n    $btn.textContent=\"确定\";\n    $container.appendChild($coder);\n    $container.appendChild($btn);\n    $body.insertBefore($container, $body.firstChild);\n    $btn.onclick = ()=>{\n        console.log(getCode());\n        $container.style.display = \"none\";\n    };\n    if(typeof code != 'string'){\n        coderEditor = new EditorView({\n            doc: \"let a = 123;\",\n            extensions: [basicSetup,javascript()],\n            parent: $coder\n        });\n    }else{\n        coderEditor = new EditorView({\n            doc: code,\n            extensions: [basicSetup,javascript()],\n            parent: $coder\n        });\n    }\n\n\n}\n\n// 返回代码\nconst getCode = ()=>{\n    return coderEditor.state.doc.toString();\n}\n\n// 输出工具包名称\nfunction pluginInfo():string {\n    return `${name}(version: ${version})`;\n}\n\n// 工具方法开始 [->* start *<-]\n// 将字符串转换为对象\nconst jsonConvertToObj = (data: string)=>{\n    if(typeof data === \"string\"){\n        try {\n            return JSON.parse(data);\n        }catch (e){\n            return data;\n        }\n    }else{\n        return data;\n    }\n}\n// 获取数组第一个元素\nconst arrayFirst = (arr:string) =>{\n    const tmpData = jsonConvertToObj(arr);\n    return tmpData[0];\n}\n\n// 数组拼接\nconst arrayJoin = (arr:string, str:string) =>{\n    const tmpData = jsonConvertToObj(arr);\n    return tmpData.join(str);\n}\n\n// 数组添加元素\nconst listAdd = (arr:string, ele: string) =>{\n    const tmpData = jsonConvertToObj(arr);\n    tmpData.push(ele);\n    return arr;\n}\n\n// 数组删除元素\nconst listDelete = (arr:string, index: string)=>{\n    const tmpData = jsonConvertToObj(arr);\n    const tmpI = jsonConvertToObj(index);\n    tmpData.splice(index, tmpI);\n    return tmpData;\n}\n\n// 字符串长度\nconst stringLength = (str: string)=>{\n    return str.length;\n}\n\n// 转为大写\nconst upperCase = (str: string)=>{\n    return str.toUpperCase();\n}\n\n// 转为小写\nconst lowerCase = (str: string)=>{\n    return str.toLowerCase();\n}\n\n// 替换所有\nconst replaceAll = (str: string,sourceCharacter: string, targetCharacter: string)=>{\n    return str.replaceAll(sourceCharacter, targetCharacter);\n}\n\n// 加\nconst mathAdd = (first: string, second: string)=>{\n    const tmpFirst = jsonConvertToObj(first);\n    const tmpSecond = jsonConvertToObj(second);\n    return tmpFirst + tmpSecond;\n}\n\n// 减\nconst mathReduce = (first: string, second: string)=>{\n    const tmpFirst = jsonConvertToObj(first);\n    const tmpSecond = jsonConvertToObj(second);\n    return tmpFirst - tmpSecond;\n}\n\n// 乘\nconst mathTake = (first: string, second: string)=>{\n    const tmpFirst = jsonConvertToObj(first);\n    const tmpSecond = jsonConvertToObj(second);\n    return tmpFirst * tmpSecond;\n}\n\n// 除\nconst mathDivision = (first: string, second: string)=>{\n    const tmpFirst = jsonConvertToObj(first);\n    const tmpSecond = jsonConvertToObj(second);\n    return tmpFirst / tmpSecond;\n}\n\n// 日期时间格式化\nconst dateFormat = (date: string, tpl: string)=>{\n    let tmpTpl = tpl.replaceAll(\"y\",\"Y\");\n    tmpTpl = tmpTpl.replaceAll(\"d\",\"D\");\n    return dayjs(date).format(tmpTpl);\n}\n\n// 字符串日期转时间戳\nconst dateParse = (date: string)=>{\n    return +dayjs(date);\n}\n\n// 时间差\nconst timeDiff = (first: string, second: string)=>{\n    return Math.abs(+dayjs(first) - (+dayjs(second)));\n}\n\n/**\n** 模板\n    //\n    const funName = ()=>{}\n**/\n\n// 工具方法开始 [->* end *<-]\n\nexport {\n    testFoo,\n    // testMonaco,\n    testCodemirror,\n    getCode,\n    pluginInfo,\n    arrayFirst,\n    arrayJoin,\n    listAdd,\n    listDelete,\n    stringLength,\n    upperCase,\n    lowerCase,\n    replaceAll,\n    mathAdd,\n    mathReduce,\n    mathTake,\n    mathDivision,\n    dateFormat,\n    dateParse,\n    timeDiff\n}\n\n\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode"],"mappings":"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","x_google_ignoreList":[0]}